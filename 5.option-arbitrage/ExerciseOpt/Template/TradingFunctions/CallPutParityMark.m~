function CallPutParityMark(aBot,aStrike)

myCallOptionDepth = OptionDepth(aBot,aStrike,1);
myPutOptionDepth = OptionDepth(aBot,aStrike,0);
myStrike=aStrike;

if isempty(myCallOptionDepth)==0 && isempty(myPutOptionDepth)==0 && isempty(aBot.StockDepth)==0,
    
    %Check positions
    myCallTrades = find(strcmp(aBot.ownTrades.ISIN,myCallOptionDepth.ISIN));
    myPutTrades = find(strcmp(aBot.ownTrades.ISIN,myPutOptionDepth.ISIN));
    
    myCallPosition= sum(aBot.ownTrades.volume(myCallTrades).*aBot.ownTrades.side(myCallTrades));
    myPutPosition= sum(aBot.ownTrades.volume(myPutTrades).*aBot.ownTrades.side(myPutTrades));
    
    %Check Call-Put parity
    %Buying call options
    if isempty(myCallOptionDepth.askVolume)==0 && isempty(myPutOptionDepth.bidVolume)==0 && isempty(aBot.StockDepth.bidVolume)==0,
        myCallAskP=myCallOptionDepth.askLimitPrice;
        myCallAskV=myCallOptionDepth.askVolume;
        myPutBidP=myPutOptionDepth.bidLimitPrice;
        myPutBidV=myPutOptionDepth.bidVolume;
        mySpotBidP=aBot.StockDepth.bidLimitPrice(1);
        mySpotBidV=aBot.StockDepth.bidVolume(1);

        if myCallAskP+myStrike<(myPutBidP+mySpotBidP)/1.0001 && myCallPosition<3000 && myPutPosition>-3000;
            if myCallAskV>0 && myPutBidV >0 && myCallAskV<=myCallOptionDepth.askVolume && myPutBidV<=myPutOptionDepth.askVolume, 
                
                myCallOptionDepth.askVolume = myCallOptionDepth.askVolume-myCallAskV;
                myPutOptionDepth.bidVolume = myPutOptionDepth.bidVolume-myPutBidV;
                
                %aBot.SendNewOrder(myCallAskP, round(myCallAskV),  1, {myCallOptionDepth.ISIN}, {'IMMEDIATE'}, 0);
                %aBot.SendNewOrder(myPutBidP, round(myPutBidV),  -1, {myCallOptionDepth.ISIN}, {'IMMEDIATE'}, 0);
                %aBot.SendNewOrder(100, 2,  1, {myCallOptionDepth.ISIN}, {'IMMEDIATE'}, 0);
                %aBot.SendNewOrder(0.01, 2,  -1, {myCallOptionDepth.ISIN}, {'IMMEDIATE'}, 0);
            end
        end
    end
    myCallOptionDepth = OptionDepth(aBot,aStrike,1);
    myPutOptionDepth = OptionDepth(aBot,aStrike,0);

    %Buying put options
    if isempty(myCallOptionDepth.bidVolume)==0 && isempty(myPutOptionDepth.askVolume)==0 && isempty(aBot.StockDepth.askVolume)==0,
        myCallBidP=myCallOptionDepth.bidLimitPrice;
        myCallBidV=myCallOptionDepth.bidVolume;
        myPutAskP=myPutOptionDepth.askLimitPrice;
        myPutAskV=myPutOptionDepth.askVolume;
        mySpotAskP=aBot.StockDepth.askLimitPrice(1);
        mySpotAskV=aBot.StockDepth.askVolume(1);
        
        if myCallBidP+myStrike>(myPutAskP+mySpotAskP)*1.0001,
        if myPutPosition<3000 && myCallPosition>-3000;        
            if myCallBidV>0 && myPutAskV >0 && myCallBidV<=myCallOptionDepth.bidVolume && myPutAskV<=myPutOptionDepth.askVolume,
                
                if myStrike==8, 
                    myBidVolume=aBot.Call800Depth.bidVolume;
                    myAskVolume=aBot.Put800Depth.askVolume;
                    aBot.Call800Depth.bidVolume = aBot.Call800Depth.bidVolume-myCallBidV;   
                    aBot.Put800Depth.askVolume = aBot.Put800Depth.askVolume-myPutAskV;
                elseif myStrike==9,
                    myBidVolume=aBot.Call900Depth.bidVolume;
                    myAskVolume=aBot.Put900Depth.askVolume;
                    aBot.Call900Depth.bidVolume = aBot.Call900Depth.bidVolume-myCallBidV;   
                    aBot.Put900Depth.askVolume = aBot.Call900Depth.askVolume-myPutAskV; 
                elseif myStrike==9.5,
                    myBidVolume=aBot.Call950Depth.bidVolume;
                    myAskVolume=aBot.Put950Depth.askVolume;
                    aBot.Call950Depth.bidVolume = aBot.Call900Depth.bidVolume-myCallBidV;   
                    aBot.Put950Depth.askVolume = aBot.Call900Depth.askVolume-myPutAskV; 
                elseif myStrike==9.75,
                    myBidVolume=aBot.Call975Depth.bidVolume;
                    myAskVolume=aBot.Put975Depth.askVolume;
                    aBot.Call975Depth.bidVolume = aBot.Call900Depth.bidVolume-myCallBidV;   
                    aBot.Put975Depth.askVolume = aBot.Call900Depth.askVolume-myPutAskV; 
                elseif myStrike==10,
                    myBidVolume=aBot.Call1000Depth.bidVolume;
                    myAskVolume=aBot.Put1000Depth.askVolume;
                    aBot.Call1000Depth.bidVolume = aBot.Call900Depth.bidVolume-myCallBidV;   
                    aBot.Put1000Depth.askVolume = aBot.Call900Depth.askVolume-myPutAskV; 
                elseif myStrike==10.25,
                    myBidVolume=aBot.Call1025Depth.bidVolume;
                    myAskVolume=aBot.Put1025Depth.askVolume;
                    aBot.Call1000Depth.bidVolume = aBot.Call900Depth.bidVolume-myCallBidV;   
                    aBot.Put1000Depth.askVolume = aBot.Call900Depth.askVolume-myPutAskV; 
                elseif myStrike==10.50,
                    myBidVolume=aBot.Call1050Depth.bidVolume;
                    myAskVolume=aBot.Put1050Depth.askVolume;
                    aBot.Call1000Depth.bidVolume = aBot.Call900Depth.bidVolume-myCallBidV;   
                    aBot.Put1000Depth.askVolume = aBot.Call900Depth.askVolume-myPutAskV; 
                elseif myStrike==11,
                    myBidVolume=aBot.Call1100Depth.bidVolume;
                    myAskVolume=aBot.Put1100Depth.askVolume;
                    aBot.Call1000Depth.bidVolume = myCallOptionDepth.bidVolume-myCallBidV;   
                    aBot.Put1000Depth.askVolume = myPutOptionDepth.askVolume-myPutAskV; 
                elseif myStrike==12,
                    myBidVolume=aBot.Call1200Depth.bidVolume;
                    myAskVolume=aBot.Put1200Depth.askVolume;
                    aBot.Call1000Depth.bidVolume = myCallOptionDepth.bidVolume-myCallBidV;   
                    aBot.Put1000Depth.askVolume = myPutOptionDepth.askVolume-myPutAskV; 
                elseif myStrike==14,
                    myBidVolume=aBot.Call1400Depth.bidVolume;
                    myAskVolume=aBot.Put1400Depth.askVolume;
                    aBot.Call1000Depth.bidVolume = myCallOptionDepth.bidVolume-myCallBidV;   
                    aBot.Put1000Depth.askVolume = myPutOptionDepth.askVolume-myPutAskV; 
                end
                                
                %aBot.SendNewOrder(myCallBidP, round(myCallBidV),  -1, {myCallOptionDepth.ISIN}, {'IMMEDIATE'}, 0);
                %aBot.SendNewOrder(myPutAskP, round(myPutAskV),  1, {myPutOptionDepth.ISIN}, {'IMMEDIATE'}, 0);
                %aBot.SendNewOrder(0.01, myBidVolume,  -1, {myCallOptionDepth.ISIN}, {'IMMEDIATE'}, 0);
                aBot.SendNewOrder(100, myAskVolume,  1, {myPutOptionDepth.ISIN}, {'IMMEDIATE'}, 0);
            end
        end
        end
    end
end
end

